# TIL Template

## ë‚ ì§œ: 2025-02-19

### ìŠ¤í¬ëŸ¼

### ìƒˆë¡œ ë°°ìš´ ë‚´ìš©
#### ì£¼ì œ 1: kubectl ì‹¤ìŠµ
kubectl ìë™ì™„ì„± ì„¤ì • (ì˜êµ¬ ì ìš©)
ğŸ”¹ í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ ì‰˜ í™•ì¸:
echo $SHELL
âœ… Bashì¸ ê²½ìš°:
echo 'source <(kubectl completion bash)' >> ~/.bashrc
source ~/.bashrc
âœ… Zshì¸ ê²½ìš°:
echo 'source <(kubectl completion zsh)' >> ~/.zshrc
source ~/.zshrc
2ï¸âƒ£ Pod ê´€ë ¨ ëª…ë ¹ì–´
ğŸ”¹ í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ Pod í™•ì¸:
kubectl get pods
ğŸ”¹ Pod ìƒì„¸ ì •ë³´ í™•ì¸:
kubectl describe pod <POD_NAME>
ğŸ”¹ Pod ë¡œê·¸ í™•ì¸:
kubectl logs <POD_NAME>
ğŸ”¹ íŠ¹ì • Pod ì‚­ì œ:
kubectl delete pod <POD_NAME>
ğŸ”¹ ëª¨ë“  Pod ì‚­ì œ:
kubectl delete pod --all
3ï¸âƒ£ Deployment ê´€ë ¨ ëª…ë ¹ì–´
ğŸ”¹ í˜„ì¬ ì‹¤í–‰ ì¤‘ì¸ Deployment í™•ì¸:
kubectl get deployments
ğŸ”¹ Deployment ìƒì„±:
kubectl apply -f mydeploy.yaml
ğŸ”¹ Deployment ì‚­ì œ í›„ ë‹¤ì‹œ ìƒì„±:
kubectl delete deployment mydeploy
kubectl apply -f mydeploy.yaml
ğŸ”¹ Deployment ì—…ë°ì´íŠ¸ (ì´ë¯¸ì§€ ë³€ê²½):
kubectl set image deployment/mydeploy nginx=nginx:latest
ğŸ”¹ Deployment ë¡¤ì•„ì›ƒ ìƒíƒœ í™•ì¸:
kubectl rollout status deployment mydeploy
ğŸ”¹ Deployment ë³€ê²½ ì´ë ¥ í™•ì¸:
kubectl rollout history deployment mydeploy
4ï¸âƒ£ ImagePullBackOff ë° ErrImagePull ì˜¤ë¥˜ í•´ê²°
ğŸ”¹ ì›ì¸:

ì˜ëª»ëœ ì´ë¯¸ì§€ ì´ë¦„ ì‚¬ìš© (nginx:1.9.1 ë“± ì˜¤ë˜ëœ ë²„ì „)
í”„ë¼ì´ë¹— ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì ‘ê·¼ ë¬¸ì œ
Minikubeì—ì„œ ë¡œì»¬ ì´ë¯¸ì§€ë¥¼ ì¸ì‹í•˜ì§€ ëª»í•¨
ğŸ”¹ í•´ê²° ë°©ë²•:
âœ… ì‚¬ìš© ê°€ëŠ¥í•œ ìµœì‹  ë²„ì „ìœ¼ë¡œ ë³€ê²½
kubectl set image deployment/mydeploy nginx=nginx:latest
ë˜ëŠ”
kubectl set image deployment/mydeploy nginx=nginx:1.23
âœ… Minikubeì—ì„œ ë¡œì»¬ ì´ë¯¸ì§€ ì‚¬ìš© ì‹œ
eval $(minikube docker-env)
minikube image load nginx:1.9.1
âœ… Docker Hubì—ì„œ nginx:1.9.1 í™•ì¸
docker pull nginx:1.9.1
ë§Œì•½ manifest unknown ì˜¤ë¥˜ ë°œìƒ ì‹œ ìµœì‹  ë²„ì „ìœ¼ë¡œ ë³€ê²½í•´ì•¼ í•¨

5ï¸âƒ£ Minikube ê´€ë ¨ ëª…ë ¹ì–´
ğŸ”¹ Minikube ì‹œì‘:
minikube start
ğŸ”¹ Minikube ìƒíƒœ í™•ì¸:
minikube status
ğŸ”¹ Minikube ë‚´ì—ì„œ ì‹¤í–‰ ì¤‘ì¸ Docker ì´ë¯¸ì§€ í™•ì¸:
minikube ssh
docker images
ğŸ”¹ Minikubeì—ì„œ ë¡œì»¬ ì´ë¯¸ì§€ ë¡œë“œ:
minikube image load <IMAGE_NAME>
6ï¸âƒ£ YAML íŒŒì¼ ì˜¤ë¥˜ í•´ê²°
ğŸ”¹ cat -Aë¡œ íŠ¹ìˆ˜ ë¬¸ì í™•ì¸ (UTF-8 BOM ë¬¸ì œ í•´ê²°)
cat -A webapl-pod.yml
ğŸ”¹ UTF-8 BOM ì œê±°:
iconv -c -f utf-8 -t utf-8 webapl-pod.yml -o webapl-pod-fixed.yml
mv webapl-pod-fixed.yml webapl-pod.yml
ğŸ”¹ Windows ì¤„ë°”ê¿ˆ ë¬¸ì œ í•´ê²°:
dos2unix webapl-pod.yml
7ï¸âƒ£ kubectl apply ì˜¤ë¥˜ í•´ê²°
ğŸ”¹ resource name may not be empty ì˜¤ë¥˜ í•´ê²°

YAML íŒŒì¼ì—ì„œ metadata.name ëˆ„ë½ í™•ì¸
yaml
metadata:
  name: webapl
Podì´ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ apply ëŒ€ì‹  create ì‚¬ìš©
kubectl create -f webapl-pod.yml



### ì˜¤ëŠ˜ì˜ íšŒê³ 
- ì „ì²´ì ì¸ íë¦„ì„ ì´í•´í•˜ê³ , ì‹¤ìŠµì„ í†µí•´ ëª…ë ¹ì–´ì™€ ìµìˆ™í•´ì ¸ì•¼ í•  ê²ƒ ê°™ë‹¤.
